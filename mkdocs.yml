site_name: MS-S1 MAX Server
site_description: Setup guide for MS-S1 MAX with Ubuntu, ZFS, KVM, Docker, and Local LLMs
site_author: morteoh

theme:
  name: material
  palette:
    - media: "(prefers-color-scheme: light)"
      scheme: default
      primary: indigo
      accent: indigo
      toggle:
        icon: material/brightness-7
        name: Switch to dark mode
    - media: "(prefers-color-scheme: dark)"
      scheme: slate
      primary: indigo
      accent: indigo
      toggle:
        icon: material/brightness-4
        name: Switch to light mode
  features:
    - navigation.instant
    - navigation.sections
    - navigation.top
    - navigation.footer
    - navigation.indexes
    - search.suggest
    - search.highlight
    - content.code.copy
    - content.code.annotate
    - toc.follow
    - toc.integrate

plugins:
  - search
  - minify:
      minify_html: true
  - glightbox

markdown_extensions:
  - admonition
  - attr_list
  - def_list
  - footnotes
  - md_in_html
  - tables
  - toc:
      permalink: true
  - pymdownx.details
  - pymdownx.highlight:
      anchor_linenums: true
  - pymdownx.inlinehilite
  - pymdownx.keys
  - pymdownx.superfences:
      custom_fences:
        - name: mermaid
          class: mermaid
          format: !!python/name:pymdownx.superfences.fence_code_format
  - pymdownx.tabbed:
      alternate_style: true
  - pymdownx.tasklist:
      custom_checkbox: true
  - pymdownx.emoji:
      emoji_index: !!python/name:material.extensions.emoji.twemoji
      emoji_generator: !!python/name:material.extensions.emoji.to_svg

nav:
  - Home: index.md

  - Getting Started:
    - getting-started/index.md
    - Hardware: getting-started/hardware.md
    - Hardware Architecture: getting-started/hardware-architecture.md
    - Software Architecture: getting-started/software-architecture.md
    - BIOS Setup: getting-started/bios-setup.md
    - Prerequisites: getting-started/prerequisites.md

  - System:
    - Ubuntu Server:
      - ubuntu/index.md
      - Installation:
        - ubuntu/installation/index.md
        - Preparation: ubuntu/installation/preparation.md
        - Secure Boot: ubuntu/installation/secure-boot.md
        - Disk Partitioning: ubuntu/installation/disk-partitioning.md
        - Installation Walkthrough: ubuntu/installation/installation-walkthrough.md
        - Post-Install Checklist: ubuntu/installation/post-install-checklist.md
      - System Configuration:
        - ubuntu/system/index.md
        - Users & Groups: ubuntu/system/users-groups.md
        - sudo Configuration: ubuntu/system/sudo-configuration.md
        - PAM: ubuntu/system/pam.md
        - systemd: ubuntu/system/systemd.md
        - Time Sync: ubuntu/system/time-sync.md
      - Security:
        - ubuntu/security/index.md
        - Kernel Hardening: ubuntu/security/kernel-hardening.md
        - SSH Hardening: ubuntu/security/ssh-hardening.md
        - AppArmor: ubuntu/security/apparmor.md
        - Fail2ban: ubuntu/security/fail2ban.md
        - auditd: ubuntu/security/auditd.md
        - Integrity Monitoring: ubuntu/security/integrity.md
        - CIS Benchmarks: ubuntu/security/cis-benchmarks.md
      - Updates:
        - ubuntu/updates/index.md
        - APT Management: ubuntu/updates/apt-management.md
        - Unattended Upgrades: ubuntu/updates/unattended-upgrades.md
        - Livepatch: ubuntu/updates/livepatch.md
      - Logging:
        - ubuntu/logging/index.md
        - journald: ubuntu/logging/journald.md
        - rsyslog: ubuntu/logging/rsyslog.md
        - Log Rotation: ubuntu/logging/log-rotation.md
      - Services:
        - ubuntu/services/index.md
        - Disable Unnecessary: ubuntu/services/disable-unnecessary.md
        - Service Isolation: ubuntu/services/service-isolation.md
        - Network Services: ubuntu/services/network-services.md
      - Networking: ubuntu/networking.md
      - Firewall: ubuntu/firewall.md
      - Troubleshooting:
        - ubuntu/troubleshooting/index.md
        - Boot Issues: ubuntu/troubleshooting/boot-issues.md
        - Network Issues: ubuntu/troubleshooting/network-issues.md
        - Security Incidents: ubuntu/troubleshooting/security-incidents.md
      - Reference:
        - Quick Reference: ubuntu/reference/quick-reference.md
        - Hardening Checklist: ubuntu/reference/checklist.md
        - Resources: ubuntu/reference/resources.md
    - ZFS Storage:
      - zfs/index.md
      - Concepts: zfs/concepts.md
      - Partitioning: zfs/partitioning.md
      - Pool Creation: zfs/pool-creation.md
      - Datasets: zfs/datasets.md
      - Snapshots: zfs/snapshots.md
      - VM Storage: zfs/vm-storage.md
      - Docker Integration: zfs/docker-integration.md
    - Bcachefs:
      - bcachefs/index.md
      - Concepts: bcachefs/concepts.md
      - Installation: bcachefs/installation.md
      - Usage: bcachefs/usage.md
      - Features: bcachefs/features.md
      - Limitations: bcachefs/limitations.md
    - Operations:
      - operations/index.md
      - Capacity Planning: operations/capacity-planning.md
      - Monitoring: operations/monitoring.md
      - Power Management: operations/power-management.md
      - Backup & Recovery: operations/backup.md
      - Recovery: operations/recovery.md
      - Rebuild Checklist: operations/rebuild-checklist.md
      - Secrets Management: operations/secrets-management.md

  - Services:
    - Virtualization:
      - virtualization/index.md
      - KVM Setup: virtualization/kvm-setup.md
      - VM Resources: virtualization/vm-resources.md
      - GPU Passthrough: virtualization/gpu-passthrough.md
      - Windows 11 VM: virtualization/windows-vm.md
    - Docker:
      - docker/index.md
      - Docker Setup: docker/setup.md
      - Docker Compose: docker/compose.md
      - Resource Limits: docker/resources.md
      - Development Stacks: docker/development-stacks.md
      - Ollama Stack: docker/ollama-stack.md
      - Monitoring: docker/monitoring.md
      - Nextcloud: docker/nextcloud.md
      - Plex: docker/plex.md

  - Networking:
    - Netplan Configuration:
      - netplan/index.md
      - Fundamentals:
        - netplan/fundamentals/index.md
        - Basics: netplan/fundamentals/basics.md
        - Renderers: netplan/fundamentals/renderers.md
        - YAML Syntax: netplan/fundamentals/yaml-syntax.md
        - Workflow: netplan/fundamentals/workflow.md
      - Interfaces:
        - netplan/interfaces/index.md
        - Ethernet: netplan/interfaces/ethernet.md
        - Bridges: netplan/interfaces/bridges.md
        - Bonds: netplan/interfaces/bonds.md
        - VLANs: netplan/interfaces/vlans.md
        - Wireless: netplan/interfaces/wireless.md
        - Virtual Interfaces: netplan/interfaces/virtual.md
      - Routing:
        - netplan/routing/index.md
        - Static Routes: netplan/routing/static-routes.md
        - Policy Routing: netplan/routing/policy-routing.md
        - DNS: netplan/routing/dns.md
        - IPv6: netplan/routing/ipv6.md
      - Advanced:
        - netplan/advanced/index.md
        - Multiple Addresses: netplan/advanced/multiple-addresses.md
        - Wake-on-LAN: netplan/advanced/wake-on-lan.md
        - Dispatcher Scripts: netplan/advanced/dispatcher.md
        - Performance Tuning: netplan/advanced/performance.md
      - Integration:
        - netplan/integration/index.md
        - Docker: netplan/integration/docker.md
        - KVM/libvirt: netplan/integration/kvm.md
        - LXD/LXC: netplan/integration/lxd.md
      - Troubleshooting:
        - netplan/troubleshooting/index.md
        - Common Issues: netplan/troubleshooting/common-issues.md
        - Debugging: netplan/troubleshooting/debugging.md
        - Migration: netplan/troubleshooting/migration.md
      - Reference:
        - netplan/reference/index.md
        - Examples: netplan/reference/examples.md
        - Properties: netplan/reference/properties.md
        - Diagrams: netplan/reference/diagrams.md
    - Firewall & Security:
      - networking/index.md
      - Fundamentals:
        - networking/fundamentals/index.md
        - Linux Networking: networking/fundamentals/linux-networking.md
        - Netfilter: networking/fundamentals/netfilter.md
        - iptables: networking/fundamentals/iptables.md
        - nftables: networking/fundamentals/nftables.md
        - Namespaces: networking/fundamentals/namespaces.md
      - UFW:
        - networking/ufw/index.md
        - Fundamentals: networking/ufw/fundamentals.md
        - Configuration: networking/ufw/configuration.md
        - Advanced: networking/ufw/advanced.md
        - Logging: networking/ufw/logging.md
      - Docker Networking:
        - networking/docker/index.md
        - Overview: networking/docker/overview.md
        - Docker & iptables: networking/docker/iptables.md
        - UFW Conflict: networking/docker/ufw-conflict.md
        - UFW Solutions: networking/docker/ufw-solutions.md
        - Compose Networking: networking/docker/compose.md
        - Security: networking/docker/security.md
      - KVM Networking:
        - networking/kvm/index.md
        - Overview: networking/kvm/overview.md
        - UFW Integration: networking/kvm/ufw-integration.md
        - Bridged Networking: networking/kvm/bridged.md
        - Port Forwarding: networking/kvm/port-forwarding.md
      - LXC Networking:
        - networking/lxc/index.md
        - Overview: networking/lxc/overview.md
        - UFW Integration: networking/lxc/ufw-integration.md
      - Integration:
        - networking/integration/index.md
        - Multi-Tech Conflicts: networking/integration/conflicts.md
      - Troubleshooting:
        - networking/troubleshooting/index.md
        - Methodology: networking/troubleshooting/methodology.md
        - Common Problems: networking/troubleshooting/common-problems.md
      - Reference:
        - networking/reference/index.md
        - Complete before.rules: networking/reference/before-rules.md
      - External Access: networking/external-access/index.md
    - SSH:
      - ssh/index.md
      - Fundamentals:
        - ssh/fundamentals/index.md
        - Protocol: ssh/fundamentals/protocol.md
        - Keys: ssh/fundamentals/keys.md
        - Authentication: ssh/fundamentals/authentication.md
      - Client:
        - ssh/client/index.md
        - Configuration: ssh/client/configuration.md
        - SSH Agent: ssh/client/agent.md
        - Connection Options: ssh/client/connection-options.md
      - Server:
        - ssh/server/index.md
        - Configuration: ssh/server/configuration.md
        - Hardening: ssh/server/hardening.md
      - File Transfer:
        - ssh/file-transfer/index.md
        - SCP: ssh/file-transfer/scp.md
        - SFTP: ssh/file-transfer/sftp.md
        - Rsync: ssh/file-transfer/rsync.md
      - Tunneling:
        - ssh/tunneling/index.md
        - Local Forwarding: ssh/tunneling/local-forwarding.md
        - Remote Forwarding: ssh/tunneling/remote-forwarding.md
        - Dynamic Forwarding: ssh/tunneling/dynamic-forwarding.md
        - Jump Hosts: ssh/tunneling/jump-hosts.md
      - Advanced:
        - ssh/advanced/index.md
        - Multiplexing: ssh/advanced/multiplexing.md
        - Automation: ssh/advanced/automation.md
      - Troubleshooting:
        - ssh/troubleshooting/index.md
        - Common Problems: ssh/troubleshooting/common-problems.md
      - Reference:
        - ssh/reference/index.md
        - Quick Reference: ssh/reference/quick-reference.md
    - Tailscale:
      - tailscale/index.md
      - Fundamentals:
        - tailscale/fundamentals/index.md
        - How It Works: tailscale/fundamentals/how-it-works.md
        - WireGuard: tailscale/fundamentals/wireguard.md
        - Networking: tailscale/fundamentals/networking.md
      - Installation:
        - tailscale/installation/index.md
        - Linux: tailscale/installation/linux.md
        - Containers: tailscale/installation/containers.md
        - Other Platforms: tailscale/installation/other-platforms.md
      - Configuration:
        - tailscale/configuration/index.md
        - Basic Setup: tailscale/configuration/basic-setup.md
        - CLI Reference: tailscale/configuration/cli.md
        - Environment Variables: tailscale/configuration/environment.md
      - Features:
        - tailscale/features/index.md
        - MagicDNS: tailscale/features/magicdns.md
        - Exit Nodes: tailscale/features/exit-nodes.md
        - Subnet Routers: tailscale/features/subnet-routers.md
        - Taildrop: tailscale/features/taildrop.md
        - Funnel & Serve: tailscale/features/funnel-serve.md
      - Integration:
        - tailscale/integration/index.md
        - Docker: tailscale/integration/docker.md
        - Kubernetes: tailscale/integration/kubernetes.md
        - SSH: tailscale/integration/ssh.md
        - VS Code: tailscale/integration/vscode.md
      - Administration:
        - tailscale/administration/index.md
        - Access Controls: tailscale/administration/acls.md
        - User Management: tailscale/administration/users.md
        - Key Management: tailscale/administration/keys.md
        - Logging: tailscale/administration/logging.md
      - Troubleshooting:
        - tailscale/troubleshooting/index.md
        - Connections: tailscale/troubleshooting/connections.md
        - Performance: tailscale/troubleshooting/performance.md
        - Common Problems: tailscale/troubleshooting/common-problems.md
      - Reference:
        - tailscale/reference/index.md
        - Quick Reference: tailscale/reference/quick-reference.md
        - Network Ports: tailscale/reference/ports.md

  - Bash:
    - bash/index.md
    - Fundamentals:
        - bash/fundamentals/index.md
        - Shell Basics: bash/fundamentals/shell-basics.md
        - Navigation: bash/fundamentals/navigation.md
        - Files & Directories: bash/fundamentals/files-directories.md
        - Viewing Files: bash/fundamentals/viewing-files.md
        - Permissions: bash/fundamentals/permissions.md
        - Redirection & Pipes: bash/fundamentals/redirection.md
    - Configuration:
        - bash/configuration/index.md
        - Dotfiles: bash/configuration/dotfiles.md
        - Environment: bash/configuration/environment.md
        - Aliases: bash/configuration/aliases.md
        - Functions: bash/configuration/functions.md
        - Prompt: bash/configuration/prompt.md
        - Ghostty: bash/configuration/ghostty/index.md
        - Starship:
            - bash/configuration/starship/index.md
            - Installation: bash/configuration/starship/installation.md
            - Configuration: bash/configuration/starship/configuration.md
            - Modules: bash/configuration/starship/modules.md
            - Git Modules: bash/configuration/starship/git-modules.md
            - Language Modules: bash/configuration/starship/language-modules.md
            - Cloud Modules: bash/configuration/starship/cloud-modules.md
            - System Modules: bash/configuration/starship/system-modules.md
            - Styling: bash/configuration/starship/styling.md
            - Presets: bash/configuration/starship/presets.md
            - Advanced: bash/configuration/starship/advanced.md
            - Troubleshooting: bash/configuration/starship/troubleshooting.md
            - Reference: bash/configuration/starship/reference.md
        - Neovim:
            - bash/configuration/neovim/index.md
            - Installation: bash/configuration/neovim/installation.md
            - Configuration: bash/configuration/neovim/configuration.md
            - Keybindings: bash/configuration/neovim/keybindings.md
            - Plugins: bash/configuration/neovim/plugins.md
            - Language Support: bash/configuration/neovim/language-support.md
            - Customization: bash/configuration/neovim/customization.md
            - Troubleshooting: bash/configuration/neovim/troubleshooting.md
            - Reference: bash/configuration/neovim/reference.md
        - Zed:
            - bash/configuration/zed/index.md
            - Installation: bash/configuration/zed/installation.md
            - Configuration: bash/configuration/zed/configuration.md
            - Keybindings: bash/configuration/zed/keybindings.md
            - Extensions: bash/configuration/zed/extensions.md
            - AI Features: bash/configuration/zed/ai-features.md
            - Collaboration: bash/configuration/zed/collaboration.md
            - Reference: bash/configuration/zed/reference.md
        - VS Code:
            - bash/configuration/vscode/index.md
            - Installation: bash/configuration/vscode/installation.md
            - Configuration: bash/configuration/vscode/configuration.md
            - Keybindings: bash/configuration/vscode/keybindings.md
            - Extensions: bash/configuration/vscode/extensions.md
            - AI Features: bash/configuration/vscode/ai-features.md
            - Debugging: bash/configuration/vscode/debugging.md
            - Reference: bash/configuration/vscode/reference.md
    - Scripting:
        - bash/scripting/index.md
        - Basics: bash/scripting/basics.md
        - Conditionals: bash/scripting/conditionals.md
        - Loops: bash/scripting/loops.md
        - Arrays: bash/scripting/arrays.md
        - Strings: bash/scripting/strings.md
        - Arithmetic: bash/scripting/arithmetic.md
        - Input/Output: bash/scripting/io.md
        - Error Handling: bash/scripting/error-handling.md
        - Debugging: bash/scripting/debugging.md
    - Tools:
        - bash/tools/index.md
        - Text Processing: bash/tools/text-processing.md
        - Finding Files: bash/tools/finding-files.md
        - Modern Replacements: bash/tools/modern-replacements.md
        - fzf: bash/tools/fzf.md
        - lazygit: bash/tools/lazygit.md
        - lazydocker: bash/tools/lazydocker.md
        - JSON Processing: bash/tools/json-processing.md
        - Process Management: bash/tools/process-management.md
        - Networking: bash/tools/networking.md
        - Archives: bash/tools/archives.md
        - Git: bash/tools/git.md
        - tmux: bash/tools/tmux.md
        - btop: bash/tools/btop.md
        - yt-dlp: bash/tools/yt-dlp.md
        - chezmoi: bash/tools/chezmoi.md
        - direnv: bash/tools/direnv.md
        - 1Password CLI: bash/tools/1password-cli.md
        - uv: bash/tools/uv.md
        - Node.js: bash/tools/nodejs.md
        - Deno: bash/tools/deno.md
        - Bun: bash/tools/bun.md
        - Rust: bash/tools/rust.md
        - GitHub Actions: bash/tools/github-actions.md
        - Make: bash/tools/make.md
        - Databases: bash/tools/databases.md
        - Version Managers:
            - asdf: bash/tools/asdf.md
            - mise: bash/tools/mise.md
        - zoxide: bash/tools/zoxide.md
    - Advanced:
        - bash/advanced/index.md
        - Job Control: bash/advanced/job-control.md
        - Subshells: bash/advanced/subshells.md
        - Signals: bash/advanced/signals.md
        - Performance: bash/advanced/performance.md
    - Reference:
        - bash/reference/index.md
        - Quick Reference: bash/reference/quick-reference.md
        - Keyboard Shortcuts: bash/reference/keyboard-shortcuts.md
        - Special Variables: bash/reference/special-variables.md

  - AI & Local LLMs:
    - ai/index.md
    - GPU Setup:
      - ai/gpu/index.md
      - ROCm Installation: ai/gpu/rocm-installation.md
      - Driver Updates: ai/gpu/driver-updates.md
      - Memory Configuration: ai/gpu/memory-configuration.md
    - Fundamentals:
      - ai/fundamentals/index.md
      - Why Local LLMs: ai/fundamentals/why-local-llms.md
      - Unified Memory: ai/fundamentals/unified-memory.md
      - Architecture Decisions: ai/fundamentals/architecture-decisions.md
    - Inference Engines:
      - ai/inference-engines/index.md
      - llama.cpp: ai/inference-engines/llama-cpp.md
      - Ollama: ai/inference-engines/ollama.md
      - MLX: ai/inference-engines/mlx.md
      - vLLM: ai/inference-engines/vllm.md
    - GUI Tools:
      - ai/gui-tools/index.md
      - LM Studio: ai/gui-tools/lm-studio.md
      - Jan.ai: ai/gui-tools/jan-ai.md
      - Open WebUI: ai/gui-tools/open-webui.md
    - Container Deployment:
      - ai/containers/index.md
      - llama.cpp Docker: ai/containers/llama-cpp-docker.md
      - Ollama Docker: ai/containers/ollama-docker.md
      - Model Volumes: ai/containers/model-volumes.md
      - GPU Containers: ai/containers/gpu-containers.md
    - API Serving:
      - ai/api-serving/index.md
      - OpenAI Compatible: ai/api-serving/openai-compatible.md
      - LocalAI: ai/api-serving/localai.md
      - Load Balancing: ai/api-serving/load-balancing.md
    - VM Integration:
      - ai/vm-integration/index.md
      - Windows LM Studio: ai/vm-integration/windows-lm-studio.md
      - API from VM: ai/vm-integration/api-from-vm.md
    - AI Coding Tools:
      - ai/coding-tools/index.md
      - Claude Code: ai/coding-tools/claude-code.md
      - Aider: ai/coding-tools/aider.md
      - Cline: ai/coding-tools/cline.md
      - Continue.dev: ai/coding-tools/continue-dev.md
    - Model Management:
      - ai/models/index.md
      - Choosing Models: ai/models/choosing-models.md
      - Quantization: ai/models/quantization.md
      - Hugging Face: ai/models/huggingface.md
      - GGUF Formats: ai/models/gguf-formats.md
    - Performance:
      - ai/performance/index.md
      - Benchmarking: ai/performance/benchmarking.md
      - Context Optimization: ai/performance/context-optimization.md
      - Memory Management: ai/performance/memory-management.md
    - Remote Access:
      - ai/remote-access/index.md
      - Tailscale Integration: ai/remote-access/tailscale-integration.md
      - API Security: ai/remote-access/api-security.md
    - RAG:
      - ai/rag/index.md
      - Fundamentals: ai/rag/fundamentals.md
      - Implementation: ai/rag/implementation.md
      - Optimization: ai/rag/optimization.md
      - Integration: ai/rag/integration.md
    - Vector Databases:
      - ai/vector-databases/index.md
      - ChromaDB: ai/vector-databases/chroma.md
      - Qdrant: ai/vector-databases/qdrant.md
      - Milvus: ai/vector-databases/milvus.md
      - pgvector: ai/vector-databases/pgvector.md
    - Fine-Tuning:
      - ai/fine-tuning/index.md
      - LoRA: ai/fine-tuning/lora.md
      - Training: ai/fine-tuning/training.md
      - Inference: ai/fine-tuning/inference.md
    - Agent Frameworks:
      - ai/agent-frameworks/index.md
      - LangChain: ai/agent-frameworks/langchain.md
      - LangGraph: ai/agent-frameworks/langgraph.md
      - CrewAI: ai/agent-frameworks/crewai.md
      - Tools: ai/agent-frameworks/tools.md
    - Multi-Modal:
      - ai/multimodal/index.md
      - Vision: ai/multimodal/vision.md
      - Audio: ai/multimodal/audio.md
      - Image Generation: ai/multimodal/image-generation.md
    - MCP:
      - ai/mcp/index.md
      - Servers: ai/mcp/servers.md
      - Clients: ai/mcp/clients.md
      - Examples: ai/mcp/examples.md
    - Reference:
      - ai/reference/index.md
      - Quick Reference: ai/reference/quick-reference.md
      - Model Compatibility: ai/reference/model-compatibility.md
      - Troubleshooting: ai/reference/troubleshooting.md

  - Self-Hosted Services:
    - services/index.md
    - Reverse Proxy:
      - services/reverse-proxy/index.md
      - Traefik: services/reverse-proxy/traefik.md
      - Caddy: services/reverse-proxy/caddy.md
    - Authentication:
      - services/authentication/index.md
      - Authentik: services/authentication/authentik.md
      - Authelia: services/authentication/authelia.md
    - Media Stack:
      - services/media-stack/index.md
      - Jellyfin: services/media-stack/jellyfin.md
      - "*arr Stack": services/media-stack/arr-stack.md
    - Pi-hole: services/pi-hole/index.md
    - Homepage: services/homepage/index.md
    - Uptime Kuma: services/uptime-kuma/index.md
    - SSL/TLS: services/ssl-tls/index.md

  - Testing:
    - testing/index.md
    - Python: testing/python.md
    - JavaScript: testing/javascript.md
    - Bash: testing/bash.md
